<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html
><head
><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"
><title
>Allow lists to be used as the first argument to the testify functions.</title
><style type="text/css"
>


body {
  font-family: verdana;
  margin-left: 2em;
}

p, ol, ul {
  width: 40em;
}

li {
  margin-bottom: 0.5em;
}

pre, code {
  font-family: courier;
}

td {
  vertical-align: top;
  padding: 0 1em 0.5em 0;
}

table.code {
  border-collapse: collapse;
}

table.code td {
  padding: 5px 1em;
  font-family: courier, monospace;
  border: 1px solid #ddd;
}

table.code td.arrow {
  border: none;
  padding: 0 1em;
  font-family: verdana;
}

table.code td.spacer {
  border: none;
  padding: 0;
}


</style
></head
><body
><a href="/"
>Catâ€™s hacks</a
>:<h1
>testify-iso</h1
><blockquote
><pre
>
 (def testify (x)
-  (if (isa x 'fn) x [is _ x]))
+  (if (isa x 'fn) x [iso _ x]))
</pre
></blockquote
><p
><i
>Allow lists to be used as the first argument to the testify functions.</i
></p
><table class="code"
><tr
><th
></th
><th
></th
><th
>arc2</th
><th
></th
><th
>patch</th
></tr
><tr
><td
>(rem '(c d) '((a b) (c d) (e f)))</td
><td class="arrow"
>&rArr;</td
><td
>((a b) (c d) (e f))</td
><td class="spacer"
>&nbsp;</td
><td
>((a b) (e f))</td
></tr
><tr
><td
>(pos '(4 5) '(1 2 3 (4 5) 6))</td
><td class="arrow"
></td
><td
>nil</td
><td class="spacer"
></td
><td
>3</td
></tr
></table
><br
><br
><h2
>Get This Hack</h2
><ul
><li
><a href="http://catdancer.github.com/arc2.testify-iso0.patch.txt" target="_blank"
>diff against arc2</a
></li
><li
><a href="http://github.com/CatDancer/arc/tree/arc2.testify-iso0"
>repository on GitHub</a
></li
><li
><a href="http://github.com/CatDancer/arc/tarball/arc2.testify-iso0"
>download a tarball of arc2 with this patch applied</a
></li
></ul
><h2
>Apply This Hack to Your Arc</h2
><p
>By using patch or git, you can incorporate this patch into your version of Arc.</p
><h3
>With patch</h3
><p
>To apply this patch to your copy of arc using the patch command, download <a href="http://catdancer.github.com/arc2.testify-iso0.patch"
>arc2.testify-iso0.patch</a
> into your Arc directory, and at the Unix command line inside the Arc directory, type:</p
><blockquote
><pre
> patch &#60;arc2.testify-iso0.patch</pre
></blockquote
><p
>&ldquo;<code>patch</code>&rdquo; is a standard utility that comes with Unix.  (If you&rsquo;re running Windows, iirc <code>patch</code> comes with cygwin).</p
><p
>For example,</p
><blockquote
><pre
> $ wget http://ycombinator.com/arc/arc2.tar
 [... downloading ...]
 $ tar xf arc2.tar
 $ cd arc2
 $ patch &#60;arc2.testify-iso0.patch
 patching [...]
 $</pre
></blockquote
><h3
>With git</h3
><p
>In a git repository that has the same arc2 ancestor commit as mine, git-merge can be used:</p
><blockquote
><pre
>$ git merge arc2.testify-iso0</pre
></blockquote
><p
>In a repository where arc2 has been checked in as a different commit, running git-merge will produce merge conflicts as it tries to apply both of the arc2 commits.  See the instructions at the end of <a href="sharing-hacks.html"
>Sharing Hacks</a
> for how to resolve the conflict.</p
></body
></html
>
